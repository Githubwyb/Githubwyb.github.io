!function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=r,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,M,t){"use strict";var r,l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},_=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(M,"__esModule",{value:!0}),M.clearDocument=M.saveDocument=M.makeBsprAttributes=M.removeProperty=M.getProperty=M.setProperty=M.balanceRules=void 0;var u=t(10),f=t(4),o=null,w=null,s=function(e){return w.root=e,o.outputJax.getBBox(w,o).w},T=function(e){for(var t=0;e&&!u.default.isType(e,"mtable");){if(u.default.isType(e,"text"))return null;u.default.isType(e,"mrow")?(e=e.childNodes[0],t=0):(e=e.parent.childNodes[t],t++)}return e},C=function(e,t){return e.childNodes["up"===t?1:0].childNodes[0].childNodes[0].childNodes[0].childNodes[0]},n=function(e,t){return e.childNodes[t].childNodes[0].childNodes[0]},I=function(e){return n(e,0)},S=function(e){return n(e,e.childNodes.length-1)},N=function(e,t){return e.childNodes["up"===t?0:1].childNodes[0].childNodes[0].childNodes[0]},A=function(e){for(;e&&!u.default.isType(e,"mtd");)e=e.parent;return e},j=function(e){return e.parent.childNodes[e.parent.childNodes.indexOf(e)+1]},L=function(e){for(;e&&null==M.getProperty(e,"inference");)e=e.parent;return e},k=function(e,t,r){void 0===r&&(r=!1);var o=0;if(e===t)return o;if(e!==t.parent){var n=e.childNodes,a=r?n.length-1:0;u.default.isType(n[a],"mspace")&&(o+=s(n[a])),e=t.parent}if(e===t)return o;var i=e.childNodes,l=r?i.length-1:0;return i[l]!==t&&(o+=s(i[l])),o},O=function(e,t){void 0===t&&(t=!1);var r=T(e),o=N(r,M.getProperty(r,"inferenceRule"));return k(e,r,t)+(s(r)-s(o))/2},J=function(e,t,r,o){if(void 0===o&&(o=!1),M.getProperty(t,"inferenceRule")||M.getProperty(t,"labelledRule")){var n=e.nodeFactory.create("node","mrow");t.parent.replaceChild(n,t),n.setChildren([t]),c(t,n),t=n}var a=o?t.childNodes.length-1:0,i=t.childNodes[a];u.default.isType(i,"mspace")?u.default.setAttribute(i,"width",f.default.Em(f.default.dimen2em(u.default.getAttribute(i,"width"))+r)):(i=e.nodeFactory.create("node","mspace",[],{width:f.default.Em(r)}),o?t.appendChild(i):(i.parent=t,t.childNodes.unshift(i)))},c=function(r,o){["inference","proof","maxAdjust","labelledRule"].forEach(function(e){var t=M.getProperty(r,e);null!=t&&(M.setProperty(o,e,t),M.removeProperty(r,e))})},d=function(e,t,r,o,n){var a=e.nodeFactory.create("node","mspace",[],{width:f.default.Em(n)});if("left"===o){var i=t.childNodes[r].childNodes[0];a.parent=i,i.childNodes.unshift(a)}else t.childNodes[r].appendChild(a);M.setProperty(t.parent,"sequentAdjust_"+o,n)},B=function(e,t){for(var r=t.pop();t.length;){var o=t.pop(),n=l(p(r,o),2),a=n[0],i=n[1];M.getProperty(r.parent,"axiom")&&(d(e,a<0?r:o,0,"left",Math.abs(a)),d(e,i<0?r:o,2,"right",Math.abs(i))),r=o}},p=function(e,t){var r=s(e.childNodes[2]),o=s(t.childNodes[2]);return[s(e.childNodes[0])-s(t.childNodes[0]),r-o]};M.balanceRules=function(e){var t,r;w=new e.document.options.MathItem("",null,e.math.display);var o=e.data;!function(e){var t=e.nodeLists.sequent;if(t)for(var r=t.length-1,o=void 0;o=t[r];r--)if(M.getProperty(o,"sequentProcessed"))M.removeProperty(o,"sequentProcessed");else{var n=[],a=L(o);if(1===M.getProperty(a,"inference")){for(n.push(o);1===M.getProperty(a,"inference");){a=T(a);var i=I(C(a,M.getProperty(a,"inferenceRule"))),l=M.getProperty(i,"inferenceRule")?N(i,M.getProperty(i,"inferenceRule")):i;M.getProperty(l,"sequent")&&(o=l.childNodes[0],n.push(o),M.setProperty(o,"sequentProcessed",!0)),a=i}B(e,n)}}}(o);var n=o.nodeLists.inference||[];try{for(var a=_(n),i=a.next();!i.done;i=a.next()){var l=i.value,u=M.getProperty(l,"proof"),f=T(l),s=C(f,M.getProperty(f,"inferenceRule")),c=I(s);if(M.getProperty(c,"inference")){var d=O(c);if(d){J(o,c,-d);var p=k(l,f,!1);J(o,l,d-p)}}var m=S(s);if(null!=M.getProperty(m,"inference")){var h=O(m,!0);J(o,m,-h,!0);var y=k(l,f,!0),v=M.getProperty(l,"maxAdjust");null!=v&&(h=Math.max(h,v));var P=void 0;if(!u&&(P=A(l))){var g=j(P);if(g){var b=o.nodeFactory.create("node","mspace",[],{width:h-y+"em"});g.appendChild(b),l.removeProperty("maxAdjust")}else{var x=L(P);x&&(h=M.getProperty(x,"maxAdjust")?Math.max(M.getProperty(x,"maxAdjust"),h):h,M.setProperty(x,"maxAdjust",h))}}else J(o,M.getProperty(l,"proof")?l:l.parent,h-y,!0)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}};var a=((r={}).bspr_maxAdjust=!0,r);M.setProperty=function(e,t,r){u.default.setProperty(e,"bspr_"+t,r)},M.getProperty=function(e,t){return u.default.getProperty(e,"bspr_"+t)},M.removeProperty=function(e,t){e.removeProperty("bspr_"+t)},M.makeBsprAttributes=function(e){e.data.root.walkTree(function(t,e){var r=[];t.getPropertyNames().forEach(function(e){!a[e]&&e.match(RegExp("^bspr_"))&&r.push(e+":"+t.getProperty(e))}),r.length&&u.default.setAttribute(t,"semantics",r.join(";"))})},M.saveDocument=function(e){if(!("getBBox"in(o=e.document).outputJax))throw Error("The bussproofs extension requires an output jax with a getBBox() method")},M.clearDocument=function(e){o=null}},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ProofTreeItem=void 0;var a=r(3),i=r(8),l=r(9),u=r(0),f=function(o){function e(){var e=null!==o&&o.apply(this,arguments)||this;return e.leftLabel=null,e.rigthLabel=null,e.innerStack=new l.default(e.factory,{},!0),e}return n(e,o),Object.defineProperty(e.prototype,"kind",{get:function(){return"proofTree"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("end")&&"prooftree"===e.getName()){var t=this.toMml();return u.setProperty(t,"proof",!0),[[this.factory.create("mml",t),e],!0]}if(e.isKind("stop"))throw new a.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return this.innerStack.Push(e),i.BaseItem.fail},e.prototype.toMml=function(){var e=o.prototype.toMml.call(this),t=this.innerStack.Top();if(t.isKind("start")&&!t.Size())return e;this.innerStack.Push(this.factory.create("stop"));var r=this.innerStack.Top().toMml();return this.create("node","mrow",[r,e],{})},e}(i.BaseItem);t.ProofTreeItem=f},function(e,t,r){"use strict";var m=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var h=r(3),y=r(12),i=r(4),v=r(0),o={Prooftree:function(e,t){return e.Push(t),e.itemFactory.create("proofTree").setProperties({name:t.getName(),line:"solid",currentLine:"solid",rootAtTop:!1})},Axiom:function(e,t){var r=e.stack.Top();if("proofTree"!==r.kind)throw new h.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var o=d(e,e.GetArgument(t));v.setProperty(o,"axiom",!0),r.Push(o)}},d=function(e,t){var r=i.default.internalMath(e,i.default.trimSpaces(t),0);if(!r[0].childNodes[0].childNodes.length)return e.create("node","mrow",[]);var o=e.create("node","mspace",[],{width:".5ex"}),n=e.create("node","mspace",[],{width:".5ex"});return e.create("node","mrow",a([o],r,[n]))};function p(e,t,r,o,n,a,i){var l,u,f,s,c=e.create("node","mtr",[e.create("node","mtd",[t],{})],{}),d=e.create("node","mtr",[e.create("node","mtd",r,{})],{}),p=e.create("node","mtable",i?[d,c]:[c,d],{align:"top 2",rowlines:a,framespacing:"0 0"});if(v.setProperty(p,"inferenceRule",i?"up":"down"),o&&(l=e.create("node","mpadded",[o],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),v.setProperty(l,"prooflabel","left")),n&&(u=e.create("node","mpadded",[n],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),v.setProperty(u,"prooflabel","right")),o&&n)f=[l,p,u],s="both";else if(o)f=[l,p],s="left";else{if(!n)return p;f=[p,u],s="right"}return p=e.create("node","mrow",f),v.setProperty(p,"labelledRule",s),p}function P(e,t){if("$"!==e.GetNext())throw new h.default("IllegalUseOfCommand","Use of %1 does not match it's definition.",t);e.i++;var r=e.GetUpTo(t,"$");if(-1===r.indexOf("\\fCenter"))throw new h.default("IllegalUseOfCommand","Missing \\fCenter in %1.",t);var o=m(r.split("\\fCenter"),2),n=o[0],a=o[1],i=new y.default(n,e.stack.env,e.configuration).mml(),l=new y.default(a,e.stack.env,e.configuration).mml(),u=new y.default("\\fCenter",e.stack.env,e.configuration).mml(),f=e.create("node","mtd",[i],{}),s=e.create("node","mtd",[u],{}),c=e.create("node","mtd",[l],{}),d=e.create("node","mtr",[f,s,c],{}),p=e.create("node","mtable",[d],{columnspacing:".5ex",columnalign:"center 2"});return v.setProperty(p,"sequent",!0),e.configuration.addNode("sequent",d),p}o.Inference=function(e,t,r){var o=e.stack.Top();if("proofTree"!==o.kind)throw new h.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(o.Size()<r)throw new h.default("BadProofTree","Proof tree badly specified.");var n=o.getProperty("rootAtTop"),a=1!==r||o.Peek()[0].childNodes.length?r:0,i=[];do{i.length&&i.unshift(e.create("node","mtd",[],{})),i.unshift(e.create("node","mtd",[o.Pop()],{rowalign:n?"top":"bottom"})),r--}while(r>0);var l=e.create("node","mtr",i,{}),u=e.create("node","mtable",[l],{framespacing:"0 0"}),f=d(e,e.GetArgument(t)),s=o.getProperty("currentLine");s!==o.getProperty("line")&&o.setProperty("currentLine",o.getProperty("line"));var c=p(e,u,[f],o.getProperty("left"),o.getProperty("right"),s,n);o.setProperty("left",null),o.setProperty("right",null),v.setProperty(c,"inference",a),e.configuration.addNode("inference",c),o.Push(c)},o.Label=function(e,t,r){var o=e.stack.Top();if("proofTree"!==o.kind)throw new h.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var n=i.default.internalMath(e,e.GetArgument(t),0),a=n.length>1?e.create("node","mrow",n,{}):n[0];o.setProperty(r,a)},o.SetLine=function(e,t,r,o){var n=e.stack.Top();if("proofTree"!==n.kind)throw new h.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");n.setProperty("currentLine",r),o&&n.setProperty("line",r)},o.RootAtTop=function(e,t,r){var o=e.stack.Top();if("proofTree"!==o.kind)throw new h.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");o.setProperty("rootAtTop",r)},o.AxiomF=function(e,t){var r=e.stack.Top();if("proofTree"!==r.kind)throw new h.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var o=P(e,t);v.setProperty(o,"axiom",!0),r.Push(o)},o.FCenter=function(e,t){},o.InferenceF=function(e,t,r){var o=e.stack.Top();if("proofTree"!==o.kind)throw new h.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(o.Size()<r)throw new h.default("BadProofTree","Proof tree badly specified.");var n=o.getProperty("rootAtTop"),a=1!==r||o.Peek()[0].childNodes.length?r:0,i=[];do{i.length&&i.unshift(e.create("node","mtd",[],{})),i.unshift(e.create("node","mtd",[o.Pop()],{rowalign:n?"top":"bottom"})),r--}while(r>0);var l=e.create("node","mtr",i,{}),u=e.create("node","mtable",[l],{framespacing:"0 0"}),f=P(e,t),s=o.getProperty("currentLine");s!==o.getProperty("line")&&o.setProperty("currentLine",o.getProperty("line"));var c=p(e,u,[f],o.getProperty("left"),o.getProperty("right"),s,n);o.setProperty("left",null),o.setProperty("right",null),v.setProperty(c,"inference",a),e.configuration.addNode("inference",c),o.Push(c)},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.TexError.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.ParseUtil.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=MathJax._.components.global.isObject,t.combineConfig=MathJax._.components.global.combineConfig,t.combineDefaults=MathJax._.components.global.combineDefaults,t.combineWithMathJax=MathJax._.components.global.combineWithMathJax,t.MathJax=MathJax._.components.global.MathJax},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.BussproofsConfiguration=void 0;var n=r(7),a=r(1),i=r(0);r(11),t.BussproofsConfiguration=n.Configuration.create("bussproofs",{handler:{macro:["Bussproofs-macros"],environment:["Bussproofs-environments"]},items:(o={},o[a.ProofTreeItem.prototype.kind]=a.ProofTreeItem,o),preprocessors:[[i.saveDocument,1]],postprocessors:[[i.clearDocument,3],[i.makeBsprAttributes,2],[i.balanceRules,1]]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=MathJax._.input.tex.Configuration.Configuration,t.ConfigurationHandler=MathJax._.input.tex.Configuration.ConfigurationHandler,t.ParserConfiguration=MathJax._.input.tex.Configuration.ParserConfiguration},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MmlStack=MathJax._.input.tex.StackItem.MmlStack,t.BaseItem=MathJax._.input.tex.StackItem.BaseItem},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.Stack.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.NodeUtil.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),n=r(13),a=r(14);new a.CommandMap("Bussproofs-macros",{AxiomC:"Axiom",UnaryInfC:["Inference",1],BinaryInfC:["Inference",2],TrinaryInfC:["Inference",3],QuaternaryInfC:["Inference",4],QuinaryInfC:["Inference",5],RightLabel:["Label","right"],LeftLabel:["Label","left"],AXC:"Axiom",UIC:["Inference",1],BIC:["Inference",2],TIC:["Inference",3],RL:["Label","right"],LL:["Label","left"],noLine:["SetLine","none",!1],singleLine:["SetLine","solid",!1],solidLine:["SetLine","solid",!1],dashedLine:["SetLine","dashed",!1],alwaysNoLine:["SetLine","none",!0],alwaysSingleLine:["SetLine","solid",!0],alwaysSolidLine:["SetLine","solid",!0],alwaysDashedLine:["SetLine","dashed",!0],rootAtTop:["RootAtTop",!0],alwaysRootAtTop:["RootAtTop",!0],rootAtBottom:["RootAtTop",!1],alwaysRootAtBottom:["RootAtTop",!1],fCenter:"FCenter",Axiom:"AxiomF",UnaryInf:["InferenceF",1],BinaryInf:["InferenceF",2],TrinaryInf:["InferenceF",3],QuaternaryInf:["InferenceF",4],QuinaryInf:["InferenceF",5]},o.default),new a.EnvironmentMap("Bussproofs-environments",n.default.environment,{prooftree:["Prooftree",null,!1]},o.default)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.TexParser.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.ParseMethods.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractSymbolMap=MathJax._.input.tex.SymbolMap.AbstractSymbolMap,t.RegExpMap=MathJax._.input.tex.SymbolMap.RegExpMap,t.AbstractParseMap=MathJax._.input.tex.SymbolMap.AbstractParseMap,t.CharacterMap=MathJax._.input.tex.SymbolMap.CharacterMap,t.DelimiterMap=MathJax._.input.tex.SymbolMap.DelimiterMap,t.MacroMap=MathJax._.input.tex.SymbolMap.MacroMap,t.CommandMap=MathJax._.input.tex.SymbolMap.CommandMap,t.EnvironmentMap=MathJax._.input.tex.SymbolMap.EnvironmentMap},function(e,t,r){"use strict";r.r(t);var o=r(5),n=r(6),a=r(1),i=r(2),l=r(0);Object(o.combineWithMathJax)({_:{input:{tex:{bussproofs:{BussproofsConfiguration:n,BussproofsItems:a,BussproofsMethods:i,BussproofsUtil:l}}}}})}]);