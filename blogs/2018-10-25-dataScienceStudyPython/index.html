<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-diy.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-diy.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-diy.png"><link rel="mask-icon" href="/images/logo-diy.svg" color="#222"><meta name="baidu-site-verification" content="y1cfESbTt9nd3LsA"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-flash.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"githubwyb.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!0,color:"#ff0000",save:"auto"},fancybox:!1,mediumzoom:!0,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="环境1Python 3.8.0  一、内建函数range 列表创建一个整数列表 1234567891011121314&gt;&gt;&gt; range(10)        # 从 0 开始到 10[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]&gt;&gt;&gt; range(1, 11)     # 从 1 开始到 11[1, 2, 3, 4, 5, 6, 7, 8, 9,"><meta property="og:type" content="article"><meta property="og:title" content="数据处理笔记（python）"><meta property="og:url" content="https://githubwyb.github.io/blogs/2018-10-25-dataScienceStudyPython/index.html"><meta property="og:site_name" content="技术的路上奔跑"><meta property="og:description" content="环境1Python 3.8.0  一、内建函数range 列表创建一个整数列表 1234567891011121314&gt;&gt;&gt; range(10)        # 从 0 开始到 10[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]&gt;&gt;&gt; range(1, 11)     # 从 1 开始到 11[1, 2, 3, 4, 5, 6, 7, 8, 9,"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://githubwyb.github.io/2023-09-23-02.png"><meta property="og:image" content="https://githubwyb.github.io/2023-10-20-02.png"><meta property="og:image" content="https://githubwyb.github.io/2023-09-23-01.png"><meta property="og:image" content="https://githubwyb.github.io/2023-10-20-01.png"><meta property="og:image" content="https://githubwyb.github.io/2023-09-17-01.png"><meta property="article:published_time" content="2018-10-25T08:40:34.000Z"><meta property="article:modified_time" content="2023-11-29T02:47:52.000Z"><meta property="article:author" content="王钰博"><meta property="article:tag" content="wyb"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://githubwyb.github.io/2023-09-23-02.png"><link rel="canonical" href="https://githubwyb.github.io/blogs/2018-10-25-dataScienceStudyPython/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>数据处理笔记（python） | 技术的路上奔跑</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">技术的路上奔跑</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">入门</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-fw fa-sitemap"></i>站点地图</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/Githubwyb" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://githubwyb.github.io/blogs/2018-10-25-dataScienceStudyPython/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/12.jpg"><meta itemprop="name" content="王钰博"><meta itemprop="description" content="个人博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="技术的路上奔跑"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">数据处理笔记（python）</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-10-25 16:40:34" itemprop="dateCreated datePublished" datetime="2018-10-25T16:40:34+08:00">2018-10-25</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-11-29 10:47:52" itemprop="dateModified" datetime="2023-11-29T10:47:52+08:00">2023-11-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Program/" itemprop="url" rel="index"><span itemprop="name">Program</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Program/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/blogs/2018-10-25-dataScienceStudyPython/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blogs/2018-10-25-dataScienceStudyPython/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>14k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>13 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Python 3.8.0</span><br></pre></td></tr></table></figure><h1 id="一、内建函数"><a href="#一、内建函数" class="headerlink" title="一、内建函数"></a>一、内建函数</h1><h2 id="range-列表"><a href="#range-列表" class="headerlink" title="range 列表"></a>range 列表</h2><p>创建一个整数列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">10</span>)        <span class="comment"># 从 0 开始到 10</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)     <span class="comment"># 从 1 开始到 11</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">30</span>, <span class="number">5</span>)  <span class="comment"># 步长为 5</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">3</span>)  <span class="comment"># 步长为 3</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">0</span>, -<span class="number">10</span>, -<span class="number">1</span>) <span class="comment"># 负数</span></span><br><span class="line">[<span class="number">0</span>, -<span class="number">1</span>, -<span class="number">2</span>, -<span class="number">3</span>, -<span class="number">4</span>, -<span class="number">5</span>, -<span class="number">6</span>, -<span class="number">7</span>, -<span class="number">8</span>, -<span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">0</span>)</span><br><span class="line">[]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">[]</span><br></pre></td></tr></table></figure><h2 id="list操作"><a href="#list操作" class="headerlink" title="list操作"></a>list操作</h2><p>判断某个值是否在list中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_list = <span class="built_in">list</span>(xxxx)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test&#x27;</span> <span class="keyword">in</span> test_list)  <span class="comment"># 返回true和false</span></span><br></pre></td></tr></table></figure><h2 id="filter过滤器"><a href="#filter过滤器" class="headerlink" title="filter过滤器"></a>filter过滤器</h2><p>删除list中空值和nan</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3中filter返回迭代器，需要使用list()转化回list</span></span><br><span class="line">test_list = <span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> s: s <span class="keyword">and</span> s.strip(), test_list))</span><br></pre></td></tr></table></figure><h2 id="map向量对应计算"><a href="#map向量对应计算" class="headerlink" title="map向量对应计算"></a>map向量对应计算</h2><ul><li>两个同样长度的向量，每个元素按照function计算</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">b = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">result = <span class="built_in">map</span>(<span class="keyword">lambda</span> x, y: x + y, a, b)</span><br><span class="line"><span class="comment"># 输出是map对象，好像不会直接出结果，访问时计算</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(result))  <span class="comment"># [5, 7, 9, 11]</span></span><br></pre></td></tr></table></figure><h2 id="zip向量对应打包"><a href="#zip向量对应打包" class="headerlink" title="zip向量对应打包"></a>zip向量对应打包</h2><ul><li>两个同样长度的向量，每个元素打包到一起</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">b = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">result = <span class="built_in">zip</span>(<span class="keyword">lambda</span> x, y: x + y, a, b)</span><br><span class="line"><span class="comment"># 输出是zip对象，转list打印</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(result))  <span class="comment"># [[1, 4], [2, 5], [3, 6], [4, 7]]</span></span><br></pre></td></tr></table></figure><h1 id="二、第三方module"><a href="#二、第三方module" class="headerlink" title="二、第三方module"></a>二、第三方module</h1><h2 id="1-pandas"><a href="#1-pandas" class="headerlink" title="1. pandas"></a>1. pandas</h2><h3 id="1-1-csv文件读写"><a href="#1-1-csv文件读写" class="headerlink" title="1.1. csv文件读写"></a>1.1. csv文件读写</h3><h4 id="1-read-csv-读取csv文件"><a href="#1-read-csv-读取csv文件" class="headerlink" title="1) read_csv 读取csv文件"></a>1) read_csv 读取csv文件</h4><p>直接读取，第一行为表头</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_df = pd.read_csv(<span class="string">&#x27;test.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(test_df.head())</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   Unnamed: 0                                 domain  label</span><br><span class="line">0           0  47faeb4f1b75a48499ba14e9b1cd895a.info      1</span><br><span class="line">1           1   9b86bb2ef4bad69cca0110076215e1f4.org      1</span><br><span class="line">2           2   b1bc086df017d40a4123488866a265b2.org      1</span><br><span class="line">3           3   42f2f603dbf06493ca5a16e1b968d30c.org      1</span><br><span class="line">4           4   381ed097870ca065ba2ee82a9a6aba48.org      1</span><br></pre></td></tr></table></figure><p>将第一列作为索引读取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_df = pd.read_csv(<span class="string">&#x27;test.csv&#x27;</span>, index_col=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(test_df.head())</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">                                  domain  label</span><br><span class="line">0  47faeb4f1b75a48499ba14e9b1cd895a.info      1</span><br><span class="line">1   9b86bb2ef4bad69cca0110076215e1f4.org      1</span><br><span class="line">2   b1bc086df017d40a4123488866a265b2.org      1</span><br><span class="line">3   42f2f603dbf06493ca5a16e1b968d30c.org      1</span><br><span class="line">4   381ed097870ca065ba2ee82a9a6aba48.org      1</span><br></pre></td></tr></table></figure><p>首行也是数据，自己加表头</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_df = pd.read_csv(<span class="string">&#x27;test1.csv&#x27;</span>, header=<span class="literal">None</span>, index_col=<span class="number">0</span>, names=[<span class="string">&#x27;domain&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(test_df.head())</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">                   domain</span><br><span class="line">0               bt12ws.cn</span><br><span class="line">1  rfecpubrggvglbzles.org</span><br><span class="line">2       lhppebosymhd.info</span><br><span class="line">3           ifivdvusa.com</span><br><span class="line">4                 vawi.be</span><br></pre></td></tr></table></figure><h4 id="2-to-csv-写csv文件"><a href="#2-to-csv-写csv文件" class="headerlink" title="2) to_csv 写csv文件"></a>2) to_csv 写csv文件</h4><p>默认写入，索引会写到第一列，列名会写到第一行</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test_df.to_csv(<span class="string">&#x27;xxx.csv&#x27;</span>)</span><br></pre></td></tr></table></figure><p>索引从1开始写到第一列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重建索引，防止其中顺序乱掉，重建的索引从0开始</span></span><br><span class="line">test_df.reset_index(drop=<span class="literal">True</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 所有索引加一，也就是从1开始</span></span><br><span class="line">test_df.index += <span class="number">1</span></span><br><span class="line">test_df.to_csv(<span class="string">&#x27;xxx.csv&#x27;</span>)</span><br></pre></td></tr></table></figure><p>去除索引，去除表头行写入</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test_df.to_csv(<span class="string">&#x27;xxx.csv&#x27;</span>, index=<span class="literal">False</span>, header=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p>只写其中一列，保留索引，去除表头</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test_df[<span class="string">&#x27;label&#x27;</span>].to_csv(<span class="string">&#x27;xxx.csv&#x27;</span>, header=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h3 id="1-2-dataframe相关操作"><a href="#1-2-dataframe相关操作" class="headerlink" title="1.2. dataframe相关操作"></a>1.2. dataframe相关操作</h3><ul><li>dataframe本质上多个相同索引的series组成的数据结构</li><li>一般df会改变数据的方法都有一个参数inplace，为True的时候改变原数据，为False的时候不改变原数据</li></ul><h4 id="1-查看信息"><a href="#1-查看信息" class="headerlink" title="1) 查看信息"></a>1) 查看信息</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(xxxxx)</span><br><span class="line">df.describe()       <span class="comment"># 显示数据的各种统计数据包（中位数、平均数、标准差、最值等）</span></span><br><span class="line">df.shape            <span class="comment"># 行列数，注意这里没有括号，shape不是一个函数</span></span><br><span class="line">df.size             <span class="comment"># 行数，同样不是一个函数</span></span><br><span class="line">isnull_df = df.isnull()     <span class="comment"># 得到一个同纬度的true和false组成的dataframe</span></span><br><span class="line">isNull_df.<span class="built_in">any</span>()             <span class="comment"># 显示各列的情况是否含有true，相当于各列取或</span></span><br></pre></td></tr></table></figure><h4 id="2-初始化"><a href="#2-初始化" class="headerlink" title="2) 初始化"></a>2) 初始化</h4><p>空dataframe初始化</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame()</span><br></pre></td></tr></table></figure><p>dict转成dataframe</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">a = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;b&#x27;</span>:<span class="literal">True</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;d&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;b&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">b = pd.DataFrame(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[&#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: True&#125;, &#123;&#x27;d&#x27;: 1, &#x27;b&#x27;: True&#125;]</span><br><span class="line">     a     b    d</span><br><span class="line">0  1.0  True  NaN</span><br><span class="line">1  NaN  True  1.0</span><br></pre></td></tr></table></figure><p>二维数组转dataframe，可以自定义列名，不定义就是从0开始的数字</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">a = [ [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>] ]</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">b = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(b)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[1, 2, 3], [4, 5]]</span><br><span class="line">   a  b    c</span><br><span class="line">0  1  2  3.0</span><br><span class="line">1  4  5  NaN</span><br></pre></td></tr></table></figure><p>一维数组转dataframe</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">b = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(b)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 3, 5, 6]</span><br><span class="line">   a</span><br><span class="line">0  1</span><br><span class="line">1  2</span><br><span class="line">2  3</span><br><span class="line">3  5</span><br><span class="line">4  6</span><br></pre></td></tr></table></figure><h4 id="3-增"><a href="#3-增" class="headerlink" title="3) 增"></a>3) 增</h4><p><strong>增加列</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 插入一列，最右侧</span></span><br><span class="line">df[<span class="string">&#x27;newColumns1&#x27;</span>] = <span class="literal">True</span></span><br><span class="line">df[<span class="string">&#x27;newColumns2&#x27;</span>] = [xxx]    <span class="comment"># 要求数组个数和df的行数保持一致，否则会失败</span></span><br><span class="line"><span class="comment"># 在指定位置插入一列</span></span><br><span class="line">df.insert(loc=<span class="number">0</span>, column=<span class="string">&#x27;newColumns3&#x27;</span>, value=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 基于已有数据增加列</span></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">b = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">b[<span class="string">&#x27;new_a&#x27;</span>] = b[<span class="string">&#x27;a&#x27;</span>].apply(<span class="keyword">lambda</span> item: item+<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>合并两个表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">c = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">b[<span class="string">&#x27;bool&#x27;</span>] = <span class="literal">True</span></span><br><span class="line">c[<span class="string">&#x27;int&#x27;</span>] = <span class="number">12</span></span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于a为唯一key进行合并</span></span><br><span class="line">d = pd.merge(b, c, how=<span class="string">&#x27;outer&#x27;</span>, on=<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">   a  bool</span><br><span class="line">0  1  True</span><br><span class="line">1  2  True</span><br><span class="line">2  3  True</span><br><span class="line">   a  int</span><br><span class="line">0  1   12</span><br><span class="line">1  2   12</span><br><span class="line">2  3   12</span><br><span class="line">   a  bool  int</span><br><span class="line">0  1  True   12</span><br><span class="line">1  2  True   12</span><br><span class="line">2  3  True   12</span><br></pre></td></tr></table></figure><p><strong>增加行</strong></p><p>合并两个dataframe</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">c = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">b[<span class="string">&#x27;bool&#x27;</span>] = <span class="literal">True</span></span><br><span class="line">c[<span class="string">&#x27;bool&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ignore_index为true则重新增加索引，为false会两个索引不变，导致存在相同的index</span></span><br><span class="line">d = pd.concat([b, c], ignore_index=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br></pre></td></tr></table></figure><h4 id="4-改"><a href="#4-改" class="headerlink" title="4) 改"></a>4) 改</h4><h5 id="1-打乱其中的行"><a href="#1-打乱其中的行" class="headerlink" title="(1) 打乱其中的行"></a>(1) 打乱其中的行</h5><ul><li>使用sample方法进行打乱</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frac是指抽取比例，为1就是全部抽取，抽取时是随机的，所以可以打乱数据</span></span><br><span class="line">train_data = train_data.sample(frac=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h5 id="2-修改某个值"><a href="#2-修改某个值" class="headerlink" title="(2) 修改某个值"></a>(2) 修改某个值</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找到index行，column列改成5</span></span><br><span class="line">df.at[<span class="string">&quot;index&quot;</span>, <span class="string">&quot;column&quot;</span>] = <span class="number">5</span></span><br></pre></td></tr></table></figure><h5 id="3-修改列名"><a href="#3-修改列名" class="headerlink" title="(3) 修改列名"></a>(3) 修改列名</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改列名</span></span><br><span class="line">df.rename(columns=&#123;<span class="string">&#x27;test&#x27;</span>:<span class="string">&#x27;aaa&#x27;</span>&#125;, inplace=<span class="literal">True</span>)     <span class="comment"># 将test改为aaa</span></span><br></pre></td></tr></table></figure><h5 id="4-排序"><a href="#4-排序" class="headerlink" title="(4) 排序"></a>(4) 排序</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## by为依据columns或index，需要指定axis，0是行排，1是列排，默认为0</span></span><br><span class="line"><span class="comment">## ascending，True升序，False降序</span></span><br><span class="line"><span class="comment">## inplace是否改变原数据</span></span><br><span class="line"><span class="comment">## na_position，缺失值所在位置，last或first</span></span><br><span class="line">df.sort_values(by=[<span class="string">&quot;status&quot;</span>], ascending=[<span class="literal">False</span>], inplace=<span class="literal">True</span>)  <span class="comment"># 依据status列进行行排序，降序，替换原数据</span></span><br></pre></td></tr></table></figure><h5 id="5-只取几列"><a href="#5-只取几列" class="headerlink" title="(5) 只取几列"></a>(5) 只取几列</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 取多列返回的是dataframe</span></span><br><span class="line">X = train_data[[<span class="string">&#x27;len_scale&#x27;</span>, <span class="string">&#x27;shan_scale&#x27;</span>, <span class="string">&#x27;yuan_ratio&#x27;</span>]]</span><br><span class="line"><span class="comment"># 取一列返回的是Series</span></span><br><span class="line">Y = train_data[<span class="string">&#x27;label&#x27;</span>]</span><br></pre></td></tr></table></figure><h5 id="6-某一列修改类型"><a href="#6-某一列修改类型" class="headerlink" title="(6) 某一列修改类型"></a>(6) 某一列修改类型</h5><p><strong>字符串转int</strong></p><ul><li>字符串的<code>0</code>转数字<code>0</code>，不是<code>\0</code>转<code>0</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&#x27;label&#x27;</span>: [<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;label&#x27;</span>])</span><br><span class="line">data[<span class="string">&#x27;label&#x27;</span>] = data[<span class="string">&#x27;label&#x27;</span>].astype(<span class="built_in">int</span>)</span><br><span class="line"><span class="built_in">print</span>(data[<span class="string">&#x27;label&#x27;</span>])</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">0    0</span><br><span class="line">1    1</span><br><span class="line">2    0</span><br><span class="line">3    1</span><br><span class="line">Name: label, dtype: object</span><br><span class="line">0    0</span><br><span class="line">1    1</span><br><span class="line">2    0</span><br><span class="line">3    1</span><br><span class="line">Name: label, dtype: object</span><br><span class="line">0    0</span><br><span class="line">1    1</span><br><span class="line">2    0</span><br><span class="line">3    1</span><br><span class="line">Name: label, dtype: int64</span><br></pre></td></tr></table></figure><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#################### 删 #######################</span></span><br><span class="line"><span class="comment"># 删除label列，改变原数据</span></span><br><span class="line">df.drop(labels = [<span class="string">&quot;label&quot;</span>], axis = <span class="number">1</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 同理删除一行</span></span><br><span class="line">df.drop(index = <span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 删除所有含有nan的行</span></span><br><span class="line">df.dropna(inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">################### 查 #######################</span></span><br><span class="line"><span class="comment"># 提取一列转成Series形式，以下两种都可以</span></span><br><span class="line">test_series = df.test</span><br><span class="line">test_series = df[<span class="string">&#x27;test&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取一行或几行，有两个定位的方法，一个是loc，一个是iloc。</span></span><br><span class="line"><span class="comment">## loc只能定位索引，传入的值只能是索引，如果索引不是数字，不能传入数字</span></span><br><span class="line">test_series = df.loc[<span class="number">0</span>]                     <span class="comment"># 索引是数字，只有一个则返回series，多个将会返回dataframe</span></span><br><span class="line">test_series = df.loc[<span class="string">&#x27;test_index&#x27;</span>]          <span class="comment"># 索引是字符串，传数字会报错，只有一个则返回series，多个将会返回dataframe</span></span><br><span class="line">test_df = df.loc[<span class="number">0</span>:<span class="number">5</span>]                       <span class="comment"># 多行，返回dataframe</span></span><br><span class="line">test_df = df.loc[<span class="number">0</span>:<span class="number">5</span>, <span class="string">&quot;test&quot;</span>]               <span class="comment"># 0:5行，test列，一列返回series</span></span><br><span class="line">test_df = df.loc[<span class="number">0</span>:<span class="number">5</span>, [<span class="string">&quot;test&quot;</span>, <span class="string">&quot;test2&quot;</span>]]    <span class="comment"># 0:5行，test和test2列，多列列返回series</span></span><br><span class="line"><span class="comment">## iloc只能传入行号，只能传入数字，如果索引不是数字，也只能传入行号</span></span><br><span class="line">test_series = df.iloc[<span class="number">0</span>]     <span class="comment"># 只能传入数字，传入行号，不管索引是不是数字，只有一个则返回series，多个将会返回dataframe</span></span><br><span class="line">test_df = df.iloc[<span class="number">0</span>:<span class="number">5</span>]       <span class="comment"># 多行，返回dataframe</span></span><br><span class="line">test_df = df.iloc[<span class="number">0</span>:<span class="number">5</span>, <span class="number">0</span>]    <span class="comment"># 0:5行，0列，一列返回series</span></span><br><span class="line">test_df = df.iloc[<span class="number">0</span>:<span class="number">5</span>, <span class="number">0</span>:<span class="number">1</span>]  <span class="comment"># 0:5行，0:1列，多列列返回series</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取单个值，可以用loc和iloc，但是速度不如at和iat</span></span><br><span class="line"><span class="comment">## at和iat对应loc和iloc，但是必须定位到一个特定的元素，要求行列并且只能传入单值</span></span><br><span class="line">tmp = df.at[<span class="string">&quot;index&quot;</span>, <span class="string">&quot;columns&quot;</span>]</span><br><span class="line">tmp = df.iat[<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 直接索引</span></span><br><span class="line"><span class="comment">## df[]只能进行行选择，或列选择，不能同时进行列选择，列选择只能是列名。行号和区间选择只能进行行选择。当index和columns标签值存在重复时，通过标签选择会优先返回行数据。df.只能进行列选择，不能进行行选择</span></span><br><span class="line"><span class="comment">## 同上，一列或一行返回series，多行或多列返回dataframe，不能选择单个</span></span><br><span class="line">tmp = df[<span class="string">&quot;index&quot;</span>]</span><br><span class="line">tmp = df[<span class="string">&quot;columns&quot;</span>]</span><br><span class="line">tmp = df.test       <span class="comment"># 只能用于列选择</span></span><br><span class="line">tmp = df[<span class="number">0</span>:<span class="number">3</span>]       <span class="comment"># 只能用于行选择</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取列名</span></span><br><span class="line">columns_value = df.columns          <span class="comment"># 返回 &lt;class &#x27;pandas.core.indexes.base.Index&#x27;&gt; 格式</span></span><br><span class="line">columns_value = df.columns.values   <span class="comment"># 返回list格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 筛选出符合条件的行</span></span><br><span class="line"><span class="comment">## 删选test列为1的所有数据</span></span><br><span class="line">tmp = df[df[<span class="string">&#x27;test&#x27;</span>].isin([<span class="number">1</span>])]</span><br></pre></td></tr></table></figure><ul><li>遍历</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 行遍历</span></span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> df.iterrows():</span><br><span class="line">    <span class="comment"># index为索引值，row为series，每一行转成series</span></span><br><span class="line">    <span class="built_in">print</span>(index, row)</span><br></pre></td></tr></table></figure><ul><li>数据对比</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 比较两个数据</span></span><br><span class="line"><span class="comment">## 内置函数merge速度比自己写快得多，原始用处是合并两个数据，但是可以用于数据对比</span></span><br><span class="line"><span class="comment">## left和right指定需要对比的两个数据</span></span><br><span class="line"><span class="comment">## how分为四种情况，left以left数据为基准，数据不会超过left数量；right同理；outer，并集；inner，交集</span></span><br><span class="line">tmp = pd.merge(left = old_data, right = new_data, how = <span class="string">&quot;outer&quot;</span>, indicator = <span class="literal">True</span>)</span><br><span class="line">old_data = tmp.loc[tmp._merge == <span class="string">&#x27;left_only&#x27;</span>, :].drop(columns=<span class="string">&#x27;_merge&#x27;</span>)</span><br><span class="line">new_data = tmp.loc[tmp._merge == <span class="string">&#x27;right_only&#x27;</span>, :].drop(columns=<span class="string">&#x27;_merge&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list或者ndarray转成dataframe</span></span><br><span class="line">test_list = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">test_df = pd.DataFrame(test_list, columns=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 转成ndarray多维矩阵形式</span></span><br><span class="line">test_ndarray = df.values</span><br></pre></td></tr></table></figure><h3 id="series相关操作"><a href="#series相关操作" class="headerlink" title="series相关操作"></a>series相关操作</h3><p>类似于python自带的dict类型</p><h4 id="信息"><a href="#信息" class="headerlink" title="信息"></a>信息</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">test_series = pd.Series(xxx)</span><br><span class="line">test_series.describe()   <span class="comment"># 显示数据的各种统计数据包（中位数、平均数、标准差、最值等）</span></span><br><span class="line">test_series.value_counts()  <span class="comment"># 统计各个值出现的次数</span></span><br></pre></td></tr></table></figure><h4 id="list操作-1"><a href="#list操作-1" class="headerlink" title="list操作"></a>list操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查</span></span><br><span class="line"><span class="comment"># 查一个值</span></span><br><span class="line">test_series[<span class="string">&#x27;test&#x27;</span>]</span><br><span class="line"><span class="comment"># 查找相关条件的值，返回list</span></span><br><span class="line">test_list = test_series[test_series.index == <span class="string">&#x27;test&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="写入excel"><a href="#写入excel" class="headerlink" title="写入excel"></a>写入excel</h3><h4 id="不显示表头和索引"><a href="#不显示表头和索引" class="headerlink" title="不显示表头和索引"></a>不显示表头和索引</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># header=None 不显示表头，index=False 不显示索引</span></span><br><span class="line">output_df.to_excel(<span class="string">&quot;out.xlsx&quot;</span>, header=<span class="literal">None</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h4 id="写入同一文件多个sheet"><a href="#写入同一文件多个sheet" class="headerlink" title="写入同一文件多个sheet"></a>写入同一文件多个sheet</h4><p>需要安装openpyxl，默认使用此module</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">writer = pd.ExcelWriter(<span class="string">&quot;output.xlsx&quot;</span>)</span><br><span class="line">output1_df.to_excel(writer, sheet_name=<span class="string">&#x27;output1_df&#x27;</span>)</span><br><span class="line">output2_df.to_excel(writer, sheet_name=<span class="string">&#x27;output2_df&#x27;</span>)</span><br><span class="line">output3_df.to_excel(writer, sheet_name=<span class="string">&#x27;output3_df&#x27;</span>)</span><br><span class="line">writer.save()</span><br></pre></td></tr></table></figure><h4 id="出现非法字符问题，可以换用xlsxwriter作为写入"><a href="#出现非法字符问题，可以换用xlsxwriter作为写入" class="headerlink" title="出现非法字符问题，可以换用xlsxwriter作为写入"></a>出现非法字符问题，可以换用xlsxwriter作为写入</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">writer = pd.ExcelWriter(<span class="string">&quot;output.xlsx&quot;</span>, engine=<span class="string">&#x27;xlsxwriter&#x27;</span>)</span><br><span class="line">output1_df.to_excel(writer, sheet_name=<span class="string">&#x27;output1_df&#x27;</span>)</span><br><span class="line">output2_df.to_excel(writer, sheet_name=<span class="string">&#x27;output2_df&#x27;</span>)</span><br><span class="line">output3_df.to_excel(writer, sheet_name=<span class="string">&#x27;output3_df&#x27;</span>)</span><br><span class="line">writer.save()</span><br></pre></td></tr></table></figure><h2 id="2-numpy"><a href="#2-numpy" class="headerlink" title="2. numpy"></a>2. numpy</h2><h3 id="2-1-内置函数"><a href="#2-1-内置函数" class="headerlink" title="2.1. 内置函数"></a>2.1. 内置函数</h3><h4 id="1-数学函数汇总"><a href="#1-数学函数汇总" class="headerlink" title="(1) 数学函数汇总"></a>(1) 数学函数汇总</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># e^12</span></span><br><span class="line">exp(<span class="number">12</span>)</span><br></pre></td></tr></table></figure><h4 id="2-argmax获取最大值的位置"><a href="#2-argmax获取最大值的位置" class="headerlink" title="(2) argmax获取最大值的位置"></a>(2) argmax获取最大值的位置</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.argmax([<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>]))  <span class="comment"># 2</span></span><br></pre></td></tr></table></figure><h3 id="2-2-numpy数据存取"><a href="#2-2-numpy数据存取" class="headerlink" title="2.2. numpy数据存取"></a>2.2. numpy数据存取</h3><p>numpy有一个可以直接将numpy数组矩阵按照原来的格式储存和读取的函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 储存data</span></span><br><span class="line">np.save(<span class="string">&quot;file directory&quot;</span>, data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取data</span></span><br><span class="line">data = np.load(<span class="string">&quot;file directory&quot;</span>)</span><br></pre></td></tr></table></figure><p>这个方法可以直接将shape也存下来，不需要考虑格式、类型等，缺点是文件会有点大。</p><h3 id="2-3-ndarray-矩阵"><a href="#2-3-ndarray-矩阵" class="headerlink" title="2.3. ndarray 矩阵"></a>2.3. ndarray 矩阵</h3><h4 id="1-reshape-重置矩阵形状"><a href="#1-reshape-重置矩阵形状" class="headerlink" title="1) reshape 重置矩阵形状"></a>1) reshape 重置矩阵形状</h4><p>从最外层开始重置矩阵形状，默认按行读取，-1代表未知数量，由numpy自动计算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_ndarray = test_ndarray.reshape(-<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(test_ndarray.shape)   <span class="comment">#out: (42000, 28, 28, 1)</span></span><br></pre></td></tr></table></figure><h3 id="2-4-随机数"><a href="#2-4-随机数" class="headerlink" title="2.4. 随机数"></a>2.4. 随机数</h3><ul><li>随机种子</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="2-5-linespace-列表"><a href="#2-5-linespace-列表" class="headerlink" title="2.5. linespace 列表"></a>2.5. linespace 列表</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">y = np.linspace(m, n, z) <span class="comment"># 在[m, n]等距离取z个点</span></span><br><span class="line">x = np.linspace(m, n) <span class="comment"># 同上，z默认取50</span></span><br></pre></td></tr></table></figure><h3 id="2-6-array-数组"><a href="#2-6-array-数组" class="headerlink" title="2.6. array 数组"></a>2.6. array 数组</h3><h4 id="1-reshape-转成矩阵ndarray"><a href="#1-reshape-转成矩阵ndarray" class="headerlink" title="1) reshape 转成矩阵ndarray"></a>1) reshape 转成矩阵ndarray</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">nda = a.reshape(<span class="number">2</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><h2 id="3-matplotlib"><a href="#3-matplotlib" class="headerlink" title="3. matplotlib"></a>3. matplotlib</h2><h3 id="3-1-pyplot-画图"><a href="#3-1-pyplot-画图" class="headerlink" title="3.1. pyplot 画图"></a>3.1. pyplot 画图</h3><h4 id="1-新开一个页面-figure"><a href="#1-新开一个页面-figure" class="headerlink" title="1) 新开一个页面 figure"></a>1) 新开一个页面 figure</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">...</span><br><span class="line">plt.figure()</span><br><span class="line">...</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h4 id="2-一页多图-subplot"><a href="#2-一页多图-subplot" class="headerlink" title="2) 一页多图 subplot"></a>2) 一页多图 subplot</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.subplot(<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>) <span class="comment"># 3行2列，从左向右，从上向下，第一个</span></span><br><span class="line">...</span><br><span class="line">plt.subplot(<span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment"># 3行2列，从左向右，从上向下，第三个</span></span><br><span class="line">...</span><br><span class="line">plt.subplot(<span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>) <span class="comment"># 3行2列，从左向右，从上向下，第五个</span></span><br><span class="line">...</span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>) <span class="comment"># 1行2列，从左向右，从上向下，第二个</span></span><br><span class="line">...</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>效果图</p><img src="2018_11_29_01.png"><h4 id="3-页面属性更改"><a href="#3-页面属性更改" class="headerlink" title="3) 页面属性更改"></a>3) 页面属性更改</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.figure(<span class="string">&quot;abc&quot;</span>) <span class="comment"># 整个图表名字</span></span><br><span class="line">...</span><br><span class="line">plt.xlabel(<span class="string">&quot;x&quot;</span>) <span class="comment"># 横坐标名称</span></span><br><span class="line">plt.ylabel(<span class="string">&quot;y&quot;</span>) <span class="comment"># 纵坐标名称</span></span><br><span class="line">plt.title(<span class="string">&quot;y = f(x)&quot;</span>) <span class="comment"># 当前图的名字</span></span><br><span class="line">ax = plt.gca()  <span class="comment"># 获取坐标轴对象</span></span><br><span class="line">ax.xaxis.set_major_locator(MultipleLocator(<span class="number">100</span>))    <span class="comment"># 设置x轴刻度间隔为100</span></span><br><span class="line">ax.yaxis.set_major_locator(MultipleLocator(<span class="number">50</span>))     <span class="comment"># 设置y轴刻度间隔为50</span></span><br><span class="line">ax.xaxis.set_ticks_position(<span class="string">&#x27;top&#x27;</span>)                  <span class="comment"># 设置x轴刻度在上方显示，默认是下方</span></span><br><span class="line">plt.grid(<span class="literal">True</span>) <span class="comment"># 显示网格</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h5 id="1-图例右上角展示"><a href="#1-图例右上角展示" class="headerlink" title="(1) 图例右上角展示"></a>(1) 图例右上角展示</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不加这句不显示图例</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br></pre></td></tr></table></figure><h5 id="2-x轴斜着显示"><a href="#2-x轴斜着显示" class="headerlink" title="(2) x轴斜着显示"></a>(2) x轴斜着显示</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.xticks(x, rotation=<span class="number">45</span>, ha=<span class="string">&#x27;right&#x27;</span>)</span><br></pre></td></tr></table></figure><h5 id="3-x轴的数值只显示部分"><a href="#3-x轴的数值只显示部分" class="headerlink" title="(3) x轴的数值只显示部分"></a>(3) x轴的数值只显示部分</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y)</span><br><span class="line"><span class="comment"># 设置xticks的x为要显示的值即可，画图就会只显示这些值</span></span><br><span class="line">plt.xticks([a <span class="keyword">for</span> a <span class="keyword">in</span> x <span class="keyword">if</span> <span class="built_in">abs</span>(a-<span class="built_in">round</span>(a)) &lt; <span class="number">0.000001</span>])</span><br></pre></td></tr></table></figure><h5 id="4-y轴修改小数为百分比字符串"><a href="#4-y轴修改小数为百分比字符串" class="headerlink" title="(4) y轴修改小数为百分比字符串"></a>(4) y轴修改小数为百分比字符串</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x, y)</span><br><span class="line">ax = plt.gca()</span><br><span class="line"><span class="comment"># 设置y轴标签为百分比字符串</span></span><br><span class="line">ax.set_yticklabels([<span class="string">&#x27;&#123;:.0%&#125;&#x27;</span>.<span class="built_in">format</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> ax.get_yticks()])</span><br></pre></td></tr></table></figure><h5 id="5-设置x和y的范围"><a href="#5-设置x和y的范围" class="headerlink" title="(5) 设置x和y的范围"></a>(5) 设置x和y的范围</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.xlim(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure><h4 id="4-stem-散点图"><a href="#4-stem-散点图" class="headerlink" title="4) stem 散点图"></a>4) stem 散点图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">y = np.linspace(<span class="number">0</span>, <span class="number">100</span>, <span class="number">32</span>)</span><br><span class="line">x = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">32</span>))</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.stem(x, y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>效果图</p><img src="2018_11_29_02.png"><h4 id="5-展示图片"><a href="#5-展示图片" class="headerlink" title="5) 展示图片"></a>5) 展示图片</h4><ul><li>需要用到PIL库</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">img = Image.<span class="built_in">open</span>(<span class="string">&#x27;./screen.png&#x27;</span>)</span><br><span class="line">plt.figure()</span><br><span class="line">plt.imshow(img)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h4 id="6-hist-直方图"><a href="#6-hist-直方图" class="headerlink" title="6) hist 直方图"></a>6) hist 直方图</h4><ul><li><code>bins</code>: 分几组，越大直方图越细节</li><li><code>label</code>: 多标签的时候的图例，需要x传入数组，label和data的size一致</li><li>需要调用legend才能显示图例，否则不会显示图例</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(x=[train_data[train_data[<span class="string">&#x27;label&#x27;</span>]==<span class="number">0</span>][<span class="string">&#x27;shan&#x27;</span>], train_data[train_data[<span class="string">&#x27;label&#x27;</span>]==<span class="number">1</span>][<span class="string">&#x27;shan&#x27;</span>]], bins=<span class="number">50</span>, label=[<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>])</span><br><span class="line">plt.legend([<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>])</span><br></pre></td></tr></table></figure><p><img src="/2023-09-23-02.png"></p><h4 id="7-绘制折线图"><a href="#7-绘制折线图" class="headerlink" title="7) 绘制折线图"></a>7) 绘制折线图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.plot(time_series, zeros_data, label=<span class="string">&quot;0&quot;</span>)</span><br><span class="line">plt.plot(time_series, one_two_data, label=<span class="string">&quot;1~2&quot;</span>)</span><br><span class="line">plt.plot(time_series, upper_two_data, label=<span class="string">&quot;3~&quot;</span>)</span><br><span class="line">plt.xticks(time_series, rotation=<span class="number">45</span>, ha=<span class="string">&#x27;right&#x27;</span>) <span class="comment"># x轴斜着展示</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper right&#x27;</span>) <span class="comment"># 图例右上角</span></span><br><span class="line">plt.title(<span class="string">&quot;随时间变化曲线&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="/2023-10-20-02.png"></p><h4 id="8-双y轴画图"><a href="#8-双y轴画图" class="headerlink" title="8) 双y轴画图"></a>8) 双y轴画图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">RSS_data = []</span><br><span class="line">VSZ_data = []</span><br><span class="line">date = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    line = f.readline()</span><br><span class="line">    <span class="keyword">while</span> line:</span><br><span class="line">        <span class="keyword">if</span> line.find(<span class="string">&quot;test&quot;</span>) != -<span class="number">1</span> <span class="keyword">and</span> line.find(<span class="string">&quot;Average&quot;</span>) == -<span class="number">1</span>:</span><br><span class="line">            data = line.split()</span><br><span class="line">            date.append(data[<span class="number">0</span>])</span><br><span class="line">            VSZ_data.append(<span class="built_in">int</span>(data[<span class="number">5</span>]))</span><br><span class="line">            RSS_data.append(<span class="built_in">int</span>(data[<span class="number">6</span>]))</span><br><span class="line">        line = f.readline()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hourly_time_series = [time <span class="keyword">for</span> time <span class="keyword">in</span> date <span class="keyword">if</span> time[-<span class="number">2</span>:-<span class="number">1</span>] == <span class="string">&#x27;0&#x27;</span>]</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax1 = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">ax1.plot(date, RSS_data, label=<span class="string">&quot;RSS&quot;</span>, color=<span class="string">&quot;green&quot;</span>)</span><br><span class="line">ax1.set_ylim(<span class="number">50000</span>, <span class="number">100000</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">&quot;RSS&quot;</span>)</span><br><span class="line">ax1.set_xlabel(<span class="string">&quot;时间&quot;</span>)</span><br><span class="line">ax1.legend(loc=<span class="string">&#x27;upper left&#x27;</span>) <span class="comment"># 图例右上角</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 关键函数，将ax1的x轴进行复制</span></span><br><span class="line">ax2 = ax1.twinx()</span><br><span class="line">ax2.plot(date, VSZ_data, label=<span class="string">&quot;VSZ&quot;</span>, color=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">ax2.set_ylim(<span class="number">400000</span>, <span class="number">500000</span>)</span><br><span class="line">ax2.set_ylabel(<span class="string">&quot;VSZ&quot;</span>)</span><br><span class="line">ax2.legend(loc=<span class="string">&#x27;upper right&#x27;</span>) <span class="comment"># 图例左上角</span></span><br><span class="line"></span><br><span class="line">ax1.set_xticks(hourly_time_series)</span><br><span class="line"><span class="comment"># 下面设置倾斜x轴数据显示没有效果，使用ax1的set_xticks也没有效果，不清楚为什么</span></span><br><span class="line"><span class="comment"># plt.xticks(rotation=45, ha=&#x27;right&#x27;)</span></span><br><span class="line"><span class="comment"># 使用这种方式设置有效果</span></span><br><span class="line">ax1.set_xticklabels(hourly_time_series, rotation=<span class="number">45</span>, ha=<span class="string">&#x27;right&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.title(title)</span><br></pre></td></tr></table></figure><h4 id="9-画直线或横线"><a href="#9-画直线或横线" class="headerlink" title="9) 画直线或横线"></a>9) 画直线或横线</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 画竖线</span></span><br><span class="line">plt.axvline(x=<span class="number">10</span>, color=<span class="string">&#x27;r&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, label=<span class="string">&quot;开始工作&quot;</span>)</span><br><span class="line"><span class="comment"># 画横线</span></span><br><span class="line">plt.axhline(y=<span class="number">10</span>, color=<span class="string">&#x27;r&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, label=<span class="string">&quot;开始工作&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="踩坑记"><a href="#踩坑记" class="headerlink" title="踩坑记"></a>踩坑记</h3><h4 id="1-字体设置"><a href="#1-字体设置" class="headerlink" title="1) 字体设置"></a>1) 字体设置</h4><ul><li>默认的字体可能会导致中文显示不正常，需要设置字体</li></ul><p><strong>打印当前支持设置的字体</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打印当前支持设置的字体</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.font_manager <span class="keyword">as</span> fm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取可用字体族</span></span><br><span class="line">font_families = <span class="built_in">sorted</span>(<span class="built_in">set</span>([f.name <span class="keyword">for</span> f <span class="keyword">in</span> fm.fontManager.ttflist]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印所有可用字体族</span></span><br><span class="line"><span class="keyword">for</span> font_family <span class="keyword">in</span> font_families:</span><br><span class="line">    <span class="built_in">print</span>(font_family)</span><br></pre></td></tr></table></figure><p><strong>打印当前默认字体</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="built_in">print</span>(plt.rcParams[<span class="string">&quot;font.family&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>])</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;sans-serif&#x27;]</span><br><span class="line">[&#x27;DejaVu Sans&#x27;, &#x27;Bitstream Vera Sans&#x27;, &#x27;Computer Modern Sans Serif&#x27;, &#x27;Lucida Grande&#x27;, &#x27;Verdana&#x27;, &#x27;Geneva&#x27;, &#x27;Lucid&#x27;, &#x27;Arial&#x27;, &#x27;Helvetica&#x27;, &#x27;Avant Garde&#x27;, &#x27;sans-serif&#x27;]</span><br></pre></td></tr></table></figure><p><strong>设置字体</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;WenQuanYi Micro Hei&#x27;</span>, <span class="string">&#x27;Consolas&#x27;</span>]</span><br></pre></td></tr></table></figure><h2 id="4-seaborn"><a href="#4-seaborn" class="headerlink" title="4. seaborn"></a>4. seaborn</h2><h3 id="4-1-画图统计向量中值的出现次数-countplot"><a href="#4-1-画图统计向量中值的出现次数-countplot" class="headerlink" title="4.1. 画图统计向量中值的出现次数 countplot"></a>4.1. 画图统计向量中值的出现次数 countplot</h3><ul><li><code>x</code>: 要统计数量的标签</li><li><code>hue</code>: 不同颜色表示的不同的标签，分别进行统计</li></ul><h4 id="1-dataframe"><a href="#1-dataframe" class="headerlink" title="1) dataframe"></a>1) dataframe</h4><h5 id="1-针对单标签画图"><a href="#1-针对单标签画图" class="headerlink" title="(1) 针对单标签画图"></a>(1) 针对单标签画图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">c = pd.DataFrame(a, columns=[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">d = pd.concat([b, c], ignore_index=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="comment"># 指定dataframe的某一列画次数图</span></span><br><span class="line">sns.countplot(d, x=<span class="string">&#x27;a&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   a</span><br><span class="line">0  1</span><br><span class="line">1  2</span><br><span class="line">2  3</span><br><span class="line">3  1</span><br><span class="line">4  2</span><br><span class="line">5  3</span><br></pre></td></tr></table></figure><p>效果图</p><img src="2018_11_29_03.png"><h5 id="2-对两个标签进行统计画图"><a href="#2-对两个标签进行统计画图" class="headerlink" title="(2) 对两个标签进行统计画图"></a>(2) 对两个标签进行统计画图</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.countplot(train_data, x=<span class="string">&#x27;length&#x27;</span>, hue=<span class="string">&#x27;label&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/2023-09-23-01.png"></p><h4 id="2-list"><a href="#2-list" class="headerlink" title="2) list"></a>2) list</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">data = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span>  <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    data.append(random.randint(<span class="number">0</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">sns.countplot(x=data)</span><br></pre></td></tr></table></figure><p><img src="/2023-10-20-01.png"></p><h3 id="4-2-scatterplot-散点图"><a href="#4-2-scatterplot-散点图" class="headerlink" title="4.2. scatterplot 散点图"></a>4.2. scatterplot 散点图</h3><h4 id="1-根据不同的label画不同颜色的散点图"><a href="#1-根据不同的label画不同颜色的散点图" class="headerlink" title="1) 根据不同的label画不同颜色的散点图"></a>1) 根据不同的label画不同颜色的散点图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成颜色调色板</span></span><br><span class="line">palette = sns.color_palette(<span class="string">&quot;bright&quot;</span>, <span class="number">10</span>)</span><br><span class="line"><span class="comment"># x就是x，y就是y，区分不同的点就是label区分，调色板使用生成的亮色</span></span><br><span class="line">sns.scatterplot(x=<span class="string">&#x27;x&#x27;</span>, y=<span class="string">&#x27;y&#x27;</span>, data=tsne_df, hue=<span class="string">&#x27;label&#x27;</span>, palette=palette)</span><br></pre></td></tr></table></figure><p><img src="/2023-09-17-01.png"></p><h2 id="5-scipy"><a href="#5-scipy" class="headerlink" title="5. scipy"></a>5. scipy</h2><h3 id="5-1-fftpack"><a href="#5-1-fftpack" class="headerlink" title="5.1. fftpack"></a>5.1. fftpack</h3><h4 id="1-fft-快速傅里叶变换"><a href="#1-fft-快速傅里叶变换" class="headerlink" title="1) fft 快速傅里叶变换"></a>1) fft 快速傅里叶变换</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.fftpack <span class="keyword">import</span> fft</span><br><span class="line"></span><br><span class="line">x = np.linespace(<span class="number">0</span>, <span class="number">100</span>, <span class="number">32</span>)</span><br><span class="line">y = fft(x) <span class="comment"># 得到x的32点fft</span></span><br></pre></td></tr></table></figure><h2 id="6-pytorch"><a href="#6-pytorch" class="headerlink" title="6. pytorch"></a>6. pytorch</h2><h3 id="6-1-安装"><a href="#6-1-安装" class="headerlink" title="6.1. 安装"></a>6.1. 安装</h3><ul><li>需要访问<a target="_blank" rel="noopener" href="https://pytorch.org/get-started/locally/">官网</a>生成下载链接再下载安装</li></ul><h2 id="7-sklearn"><a href="#7-sklearn" class="headerlink" title="7. sklearn"></a>7. sklearn</h2><h3 id="7-1-安装"><a href="#7-1-安装" class="headerlink" title="7.1. 安装"></a>7.1. 安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install scikit-learn</span><br></pre></td></tr></table></figure></div><div class="reward-container"><div></div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.png" alt="王钰博 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="/images/alipay.jpg" alt="王钰博 支付宝"><p>支付宝</p></div></div></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-item"><a href="/blogs/2018-10-25-zshConfig/" rel="prev" title="zsh配置记录"><i class="fa fa-chevron-left"></i> zsh配置记录</a></div><div class="post-nav-item"><a href="/blogs/2018-10-27-readingNoteManagement/" rel="next" title="读书笔记————管理学第三版">读书笔记————管理学第三版 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){let e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{if(!t.target.matches(".tabs-comment .tab-content .tab-pane"))return;let e=t.target.classList[1];localStorage.setItem("comments_active",e)})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83"><span class="nav-text">环境</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0"><span class="nav-text">一、内建函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#range-%E5%88%97%E8%A1%A8"><span class="nav-text">range 列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#list%E6%93%8D%E4%BD%9C"><span class="nav-text">list操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#filter%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-text">filter过滤器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#map%E5%90%91%E9%87%8F%E5%AF%B9%E5%BA%94%E8%AE%A1%E7%AE%97"><span class="nav-text">map向量对应计算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#zip%E5%90%91%E9%87%8F%E5%AF%B9%E5%BA%94%E6%89%93%E5%8C%85"><span class="nav-text">zip向量对应打包</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E7%AC%AC%E4%B8%89%E6%96%B9module"><span class="nav-text">二、第三方module</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-pandas"><span class="nav-text">1. pandas</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-csv%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="nav-text">1.1. csv文件读写</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-read-csv-%E8%AF%BB%E5%8F%96csv%E6%96%87%E4%BB%B6"><span class="nav-text">1) read_csv 读取csv文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-to-csv-%E5%86%99csv%E6%96%87%E4%BB%B6"><span class="nav-text">2) to_csv 写csv文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-dataframe%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C"><span class="nav-text">1.2. dataframe相关操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%9F%A5%E7%9C%8B%E4%BF%A1%E6%81%AF"><span class="nav-text">1) 查看信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">2) 初始化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%A2%9E"><span class="nav-text">3) 增</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%94%B9"><span class="nav-text">4) 改</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E6%89%93%E4%B9%B1%E5%85%B6%E4%B8%AD%E7%9A%84%E8%A1%8C"><span class="nav-text">(1) 打乱其中的行</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E4%BF%AE%E6%94%B9%E6%9F%90%E4%B8%AA%E5%80%BC"><span class="nav-text">(2) 修改某个值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E4%BF%AE%E6%94%B9%E5%88%97%E5%90%8D"><span class="nav-text">(3) 修改列名</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E6%8E%92%E5%BA%8F"><span class="nav-text">(4) 排序</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-%E5%8F%AA%E5%8F%96%E5%87%A0%E5%88%97"><span class="nav-text">(5) 只取几列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-%E6%9F%90%E4%B8%80%E5%88%97%E4%BF%AE%E6%94%B9%E7%B1%BB%E5%9E%8B"><span class="nav-text">(6) 某一列修改类型</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-text">其他</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%AC%E6%8D%A2"><span class="nav-text">转换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#series%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C"><span class="nav-text">series相关操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%A1%E6%81%AF"><span class="nav-text">信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#list%E6%93%8D%E4%BD%9C-1"><span class="nav-text">list操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%99%E5%85%A5excel"><span class="nav-text">写入excel</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8D%E6%98%BE%E7%A4%BA%E8%A1%A8%E5%A4%B4%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="nav-text">不显示表头和索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%99%E5%85%A5%E5%90%8C%E4%B8%80%E6%96%87%E4%BB%B6%E5%A4%9A%E4%B8%AAsheet"><span class="nav-text">写入同一文件多个sheet</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BA%E7%8E%B0%E9%9D%9E%E6%B3%95%E5%AD%97%E7%AC%A6%E9%97%AE%E9%A2%98%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8D%A2%E7%94%A8xlsxwriter%E4%BD%9C%E4%B8%BA%E5%86%99%E5%85%A5"><span class="nav-text">出现非法字符问题，可以换用xlsxwriter作为写入</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-numpy"><span class="nav-text">2. numpy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-text">2.1. 内置函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0%E6%B1%87%E6%80%BB"><span class="nav-text">(1) 数学函数汇总</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-argmax%E8%8E%B7%E5%8F%96%E6%9C%80%E5%A4%A7%E5%80%BC%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="nav-text">(2) argmax获取最大值的位置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-numpy%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96"><span class="nav-text">2.2. numpy数据存取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-ndarray-%E7%9F%A9%E9%98%B5"><span class="nav-text">2.3. ndarray 矩阵</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-reshape-%E9%87%8D%E7%BD%AE%E7%9F%A9%E9%98%B5%E5%BD%A2%E7%8A%B6"><span class="nav-text">1) reshape 重置矩阵形状</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="nav-text">2.4. 随机数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-linespace-%E5%88%97%E8%A1%A8"><span class="nav-text">2.5. linespace 列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-6-array-%E6%95%B0%E7%BB%84"><span class="nav-text">2.6. array 数组</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-reshape-%E8%BD%AC%E6%88%90%E7%9F%A9%E9%98%B5ndarray"><span class="nav-text">1) reshape 转成矩阵ndarray</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-matplotlib"><span class="nav-text">3. matplotlib</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-pyplot-%E7%94%BB%E5%9B%BE"><span class="nav-text">3.1. pyplot 画图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%96%B0%E5%BC%80%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2-figure"><span class="nav-text">1) 新开一个页面 figure</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%B8%80%E9%A1%B5%E5%A4%9A%E5%9B%BE-subplot"><span class="nav-text">2) 一页多图 subplot</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E9%A1%B5%E9%9D%A2%E5%B1%9E%E6%80%A7%E6%9B%B4%E6%94%B9"><span class="nav-text">3) 页面属性更改</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E5%9B%BE%E4%BE%8B%E5%8F%B3%E4%B8%8A%E8%A7%92%E5%B1%95%E7%A4%BA"><span class="nav-text">(1) 图例右上角展示</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-x%E8%BD%B4%E6%96%9C%E7%9D%80%E6%98%BE%E7%A4%BA"><span class="nav-text">(2) x轴斜着显示</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-x%E8%BD%B4%E7%9A%84%E6%95%B0%E5%80%BC%E5%8F%AA%E6%98%BE%E7%A4%BA%E9%83%A8%E5%88%86"><span class="nav-text">(3) x轴的数值只显示部分</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-y%E8%BD%B4%E4%BF%AE%E6%94%B9%E5%B0%8F%E6%95%B0%E4%B8%BA%E7%99%BE%E5%88%86%E6%AF%94%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">(4) y轴修改小数为百分比字符串</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-%E8%AE%BE%E7%BD%AEx%E5%92%8Cy%E7%9A%84%E8%8C%83%E5%9B%B4"><span class="nav-text">(5) 设置x和y的范围</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-stem-%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="nav-text">4) stem 散点图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%B1%95%E7%A4%BA%E5%9B%BE%E7%89%87"><span class="nav-text">5) 展示图片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-hist-%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="nav-text">6) hist 直方图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E7%BB%98%E5%88%B6%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="nav-text">7) 绘制折线图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E5%8F%8Cy%E8%BD%B4%E7%94%BB%E5%9B%BE"><span class="nav-text">8) 双y轴画图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-%E7%94%BB%E7%9B%B4%E7%BA%BF%E6%88%96%E6%A8%AA%E7%BA%BF"><span class="nav-text">9) 画直线或横线</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B8%A9%E5%9D%91%E8%AE%B0"><span class="nav-text">踩坑记</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AD%97%E4%BD%93%E8%AE%BE%E7%BD%AE"><span class="nav-text">1) 字体设置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-seaborn"><span class="nav-text">4. seaborn</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E7%94%BB%E5%9B%BE%E7%BB%9F%E8%AE%A1%E5%90%91%E9%87%8F%E4%B8%AD%E5%80%BC%E7%9A%84%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0-countplot"><span class="nav-text">4.1. 画图统计向量中值的出现次数 countplot</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-dataframe"><span class="nav-text">1) dataframe</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E9%92%88%E5%AF%B9%E5%8D%95%E6%A0%87%E7%AD%BE%E7%94%BB%E5%9B%BE"><span class="nav-text">(1) 针对单标签画图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E5%AF%B9%E4%B8%A4%E4%B8%AA%E6%A0%87%E7%AD%BE%E8%BF%9B%E8%A1%8C%E7%BB%9F%E8%AE%A1%E7%94%BB%E5%9B%BE"><span class="nav-text">(2) 对两个标签进行统计画图</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-list"><span class="nav-text">2) list</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-scatterplot-%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="nav-text">4.2. scatterplot 散点图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%A0%B9%E6%8D%AE%E4%B8%8D%E5%90%8C%E7%9A%84label%E7%94%BB%E4%B8%8D%E5%90%8C%E9%A2%9C%E8%89%B2%E7%9A%84%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="nav-text">1) 根据不同的label画不同颜色的散点图</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-scipy"><span class="nav-text">5. scipy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-fftpack"><span class="nav-text">5.1. fftpack</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-fft-%E5%BF%AB%E9%80%9F%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2"><span class="nav-text">1) fft 快速傅里叶变换</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-pytorch"><span class="nav-text">6. pytorch</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-%E5%AE%89%E8%A3%85"><span class="nav-text">6.1. 安装</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-sklearn"><span class="nav-text">7. sklearn</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-%E5%AE%89%E8%A3%85"><span class="nav-text">7.1. 安装</span></a></li></ol></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="王钰博" src="/images/12.jpg"><p class="site-author-name" itemprop="name">王钰博</p><div class="site-description" itemprop="description">个人博客</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">122</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">22</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">14</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/Githubwyb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Githubwyb" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:1061322005@qq.com" title="E-Mail → mailto:1061322005@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> 友情链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://githubwyb.github.io/bookPages/" title="https:&#x2F;&#x2F;githubwyb.github.io&#x2F;bookPages&#x2F;">markdown books</a></li></ul></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><a href="http://www.beian.miit.gov.cn/" rel="noopener" target="_blank">豫ICP备16023189号 </a><img src="/images/beian.png" style="display:inline-block"></div><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">王钰博</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span title="站点总字数">919k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">13:56</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div><div class="addthis_inline_share_toolbox"><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e1986d4e4e2d132" async></script></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/medium-zoom.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>document.querySelectorAll(".pdfobject-container").forEach(e=>{let t=e.dataset.target,a="#"+Object.entries({navpanes:0,toolbar:0,statusbar:0,pagemode:"thumbs",view:"FitH"}).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&"),i=`/lib/pdf/web/viewer.html?file=${encodeURIComponent(t)}${a}`;NexT.utils.supportsPDFs()?e.innerHTML=`<embed class="pdfobject" src="${t+a}" type="application/pdf" style="height: ${e.dataset.height};">`:e.innerHTML=`<iframe src="${i}" style="height: ${e.dataset.height};" frameborder="0"></iframe>`})</script><script>"undefined"==typeof MathJax?(window.MathJax={loader:{source:{"[tex]/amsCd":"[tex]/amscd","[tex]/AMScd":"[tex]/amscd"}},tex:{inlineMath:{"[+]":[["$","$"]]},tags:"ams"},options:{renderActions:{findScript:[10,e=>{document.querySelectorAll('script[type^="math/tex"]').forEach(t=>{const a=!!t.type.match(/; *mode=display/),n=new e.options.MathItem(t.textContent,e.inputJax[0],a),d=document.createTextNode("");t.parentNode.replaceChild(d,t),n.start={node:d,delim:"",n:0},n.end={node:d,delim:"",n:0},e.math.push(n)})},"",!1],insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach(e=>{let t=e.parentNode;"li"===t.nodeName.toLowerCase()&&t.parentNode.classList.add("has-jax")})},"",!1]}}},function(){var e=document.createElement("script");e.src="/lib/mathjax/tex-mml-chtml.js",e.defer=!0,document.head.appendChild(e)}()):(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset())</script><script>NexT.utils.loadComments(document.querySelector("#valine-comments"),()=>{NexT.utils.getScript("//unpkg.com/valine/dist/Valine.min.js",()=>{var e=["nick","mail","link"],a="nick,mail";a=a.split(",").filter(a=>e.includes(a)),new Valine({el:"#valine-comments",verify:!1,notify:!1,appId:"qmLbUHV1HOr841BOYkl84riu-gzGzoHsz",appKey:"j4fgTcf1yHRDD5X3HUH5EH95",placeholder:"^_^ happy everyday!",avatar:"wavatar",meta:a,pageSize:"10",visitor:!1,lang:"zh-cn",path:location.pathname,recordIP:!1,serverURLs:""})},window.Valine)})</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":true,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"bottom":-30,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body><script type="text/javascript" src="/lib/jquery-3.4.1.min.js"></script><script type="text/javascript" src="/js/src/love.js"></script></html>